<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Dashboard</title>
<link rel="icon" type="image/png" href="img/cube.png">

<!-- FONT AWESOME -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;}

body{
  font-family:'Segoe UI',sans-serif;
  background:linear-gradient(135deg,#0a0f1c,#08101a 60%,#06101d);
  color:#d9f3ff;
  overflow-x:hidden;
}

/* ===== Layout ===== */
.wrapper{
  display:flex;
  height:100vh;
}

/* ===== Sidebar ===== */
.sidebar{
  width:90px;
  background:linear-gradient(180deg,#0c1624,#070e17);
  border-right:1px solid #00e5ff22;
  transition:0.3s;
  display:flex;
  flex-direction:column;
  align-items:center;
  padding-top:20px;
}

.sidebar.collapsed{
  width:65px;
}

.logo{
  font-size:22px;
  color:#00e5ff;
  margin-bottom:30px;
}

.side-item{
  width:100%;
  padding:12px 0;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  border-radius:15px;
  cursor:pointer;
  transition:0.3s;
  color:#7aa9c4;
  font-size:11px;
  gap:6px;
}

.side-item:hover{
  background:#00e5ff22;
  color:#00e5ff;
  transform:scale(1.1);
}

.side-item span{
  font-size:11px;
  opacity:0.7;
  transition:all 0.3s ease;
}

.sidebar.collapsed .side-item span{
  opacity:0;
  transform:translateY(-5px);
  pointer-events:none;
}

.sidebar.collapsed .side-item{
  gap:0;
}

.side-item{
  text-decoration:none;
  color:inherit;
}

/* ===== Main ===== */
.main{
  flex:1;
  padding:30px 40px;
}

/* ===== Topbar ===== */
.topbar{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:30px;
}

.title{
  font-size:22px;
  font-weight:600;
  color:#00e5ff;
  letter-spacing:1px;
}
  
.profile{
  display:flex;
  align-items:center;
  gap:15px;
}

.logout-btn{
  padding:6px 14px;
  border-radius:20px;
  border:1px solid #00e5ff55;
  background:transparent;
  color:#00e5ff;
  cursor:pointer;
  transition:0.3s;
}

.logout-btn:hover{
  background:#00e5ff;
  color:#000;
}
  
/* ===== KPI Cards ===== */
.kpi-grid{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:20px;
  margin-bottom:25px;
}

.card{
  background:linear-gradient(145deg,#111b2a,#0a1320);
  border:1px solid #00e5ff22;
  padding:20px;
  border-radius:16px;
  transition:0.3s;
  position:relative;
}

.card:hover{
  transform:translateY(-5px);
  box-shadow:0 0 25px #00e5ff33;
}

.card i{
  font-size:22px;
  margin-bottom:10px;
}

.card-title{
  font-size:14px;
  opacity:0.7;
}

.card-value{
  font-size:28px;
  font-weight:600;
  margin-top:8px;
}

.cyan{color:#00e5ff;}
.yellow{color:#ffc107;}
.red{color:#ff3d57;}
.green{color:#00e676;}

/* ===== Chart Section ===== */
.chart-grid{
  display:grid;
  grid-template-columns:2fr 1fr;
  gap:20px;
  margin-bottom:25px;
}

.chart-box{
  background:#0b1421;
  border:1px solid #00e5ff22;
  border-radius:16px;
  padding:20px;
}

.chart-title{
  margin-bottom:15px;
  font-size:15px;
  opacity:0.8;
}

canvas{
  width:100%;
  height:220px;
  background:linear-gradient(145deg,#0e1a2c,#091321);
  border-radius:12px;
}

/* ===== Table ===== */
.table-box{
  background:#0b1421;
  border:1px solid #00e5ff22;
  border-radius:16px;
  padding:20px;
}

table{
  width:100%;
  border-collapse:collapse;
}

th{
  text-align:left;
  font-size:13px;
  opacity:0.6;
  padding:12px 0;
  border-bottom:1px solid #00e5ff22;
}

td{
  padding:14px 0;
  border-bottom:1px solid #00e5ff11;
}

.status{
  padding:5px 12px;
  border-radius:20px;
  font-size:12px;
  font-weight:600;
}

.progress{background:#ffc107;color:#000;}
.overdue{background:#ff3d57;color:#fff;}
.complete{background:#00e676;color:#000;}

</style>
</head>

<body>

<div class="wrapper">

  <!-- Sidebar -->
<div class="sidebar">
  <div class="logo"><i class="fa-solid fa-cube"></i></div>

<a href="dashboard.html" class="side-item">
  <i class="fa-solid fa-box"></i>
  <span>Dashboard</span>
</a>

  <a href="assets-mster.html" class="side-item">
    <i class="fa-solid fa-box"></i>
    <span>Assets</span>
  </a>

  <a href="assets.html" class="side-item">
    <i class="fa-solid fa-screwdriver-wrench"></i>
    <span>Warranty</span>
  </a>

  <a href="preventive-maintenance.html" class="side-item">
    <i class="fa-solid fa-calendar-days"></i>
    <span>PPM</span>
  </a>

  <a href="assets.html" class="side-item">
    <i class="fa-solid fa-chart-line"></i>
    <span>Reports</span>
  </a>
</div>
  
  <!-- Main -->
  <div class="main">

    <div class="topbar">
      <div class="title">CMMS SYSTEM</div>
      <div class="profile">
      <span id="userDisplay"></span>
        <button class="logout-btn" onclick="logout()">Logout</button>
      </div>
    </div>

    <!-- KPI -->
    <div class="kpi-grid">
      <div class="card">
        <i class="fa-solid fa-building cyan"></i>
        <div class="card-title">Total Assets</div>
        <div class="card-value cyan">1,245</div>
      </div>

      <div class="card">
        <i class="fa-solid fa-clipboard-list yellow"></i>
        <div class="card-title">Statutory</div>
        <div class="card-value yellow">18</div>
      </div>

      <div class="card">
        <i class="fa-solid fa-triangle-exclamation red"></i>
        <div class="card-title">Overdue</div>
        <div class="card-value red">3</div>
      </div>

      <div class="card">
        <i class="fa-solid fa-calendar-check green"></i>
        <div class="card-title">Upcoming PM</div>
        <div class="card-value green">27</div>
      </div>
    </div>

    <!-- Charts -->
    <div class="chart-grid">
      <div class="chart-box">
        <div class="chart-title">Work Orders Trend</div>
        <canvas></canvas>
      </div>

      <div class="chart-box">
        <div class="chart-title">Breakdown vs Preventive</div>
        <canvas></canvas>
      </div>
  </div>

    <!-- Table -->
    <div class="table-box">
      <div class="chart-title">Recent Work Orders</div>
      <table>
        <tr>
          <th>WO</th>
          <th>Asset</th>
          <th>Status</th>
          <th>Assigned</th>
          <th>Due</th>
        </tr>
        <tr>
          <td>WO-1034</td>
          <td>MRI Scanner</td>
          <td><span class="status progress">In Progress</span></td>
          <td>Ali</td>
          <td>25-Jan-2024</td>
        </tr>
        <tr>
          <td>WO-1031</td>
          <td>AC Unit</td>
          <td><span class="status overdue">Overdue</span></td>
          <td>Siti</td>
          <td>22-Jan-2024</td>
        </tr>
        <tr>
          <td>WO-1025</td>
          <td>Generator</td>
          <td><span class="status complete">Complete</span></td>
          <td>Azman</td>
          <td>20-Jan-2024</td>
        </tr>
      </table>
    </div>

  </div>
</div>

<script>


/* ===== PROTECT DASHBOARD ===== */
const user = sessionStorage.getItem("cmmsUser");

if(!user){
  window.location.href = "index.html";
}

/* ===== DISPLAY USER ===== */
document.getElementById("userDisplay").innerText = user;

/* ===== SIDEBAR TOGGLE ===== */
document.querySelector(".logo").onclick = function(){
  document.getElementById("sidebar").classList.toggle("collapsed");
}

const currentPage = window.location.pathname.split("/").pop();
const items = document.querySelectorAll(".side-item");

items.forEach(item=>{
  if(item.getAttribute("onclick")?.includes(currentPage)){
    item.classList.add("active");
  }
});

/* ===== LOGOUT ===== */
function logout(){
  sessionStorage.removeItem("cmmsUser");
  window.location.href="index.html";
}

/*==========Side Bar =======*/
function Dashboard(){
  window.location.href ="dashboard.html";
}

function Asset(){
  window.location.href ="asset-master.html";
}

  function Warranty(){
  window.location.href =page;
}

function PPM(){
  window.location.href ="preventive-maintenance.html";
}
  
</script>

</body>

</html>




















